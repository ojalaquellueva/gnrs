-- -----------------------------------------------------------------
-- Links state-as-country political divisions to their alt country
-- All names must be as spelled in table country
-- ---------------------------------------------------------------

--
-- Alternative country classification is country
--

UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Akrotiri and Dhekelia'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Aland Islands'
AND alt.country='Finland'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='American Samoa'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Bonaire, Saint Eustatius and Saba'
AND alt.country='Netherlands'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Bouvet Island'
AND alt.country='Norway'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='British Indian Ocean Territory'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='British Virgin Islands'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Cayman Islands'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Christmas Island'
AND alt.country='Australia'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Clipperton Island'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Cocos Islands'
AND alt.country='Australia'
;
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Cook Islands'
AND alt.country='New Zealand'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='East Timor'
AND alt.country='Indonesia'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='England'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Faroe Islands'
AND alt.country='Denmark'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='French Guiana'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='French Polynesia'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='French Southern Territories'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Gibraltar'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Greenland'
AND alt.country='Denmark'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Guam'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Guernsey'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Heard Island and McDonald Islands'
AND alt.country='Australia'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Hong Kong'
AND alt.country='China'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Isle of Man'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Jersey'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Marshall Islands'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Martinique'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Mayotte'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Montserrat'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Nauru'
AND alt.country='Micronesia'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='New Caledonia'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Niue'
AND alt.country='New Zealand'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Norfolk Island'
AND alt.country='Australia'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Northern Mariana Islands'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Paracel Islands'
AND alt.country='China'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Pitcairn'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Puerto Rico'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Reunion'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Saint Barthelemy'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Saint Helena'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Saint Martin'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Saint Pierre and Miquelon'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Sao Tome and Principe'
AND alt.country='Portugal'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Seychelles'
AND alt.country='France'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Sint Maarten'
AND alt.country='Netherlands'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country=' South Georgia and the South Sandwich Islands'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Svalbard and Jan Mayen'
AND alt.country='Norway'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Swaziland'
AND alt.country='South Africa'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Turks and Caicos Islands'
AND alt.country='United Kingdom'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='U.S. Virgin Islands'
AND alt.country='United States'
;
UPDATE country AS child
SET alt_country_id=alt.country_id
FROM country AS alt
WHERE child.country='Wallis and Futuna'
AND alt.country='France'
;

--
-- Alternative country classification is a state
-- If alt country is member of UK, will also appear 
-- in previous section linked to United Kingdom
--

UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='Akrotiri and Dhekelia'
AND alt.state_province='England'
;
UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='British Indian Ocean Territory'
AND alt.state_province='England'
;
UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='British Virgin Islands'
AND alt.state_province='England'
;
UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='Cayman Islands'
AND alt.state_province='England'
;
UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='Falkland Islands'
AND alt.state_province='England'
;
UPDATE country AS child
SET alt_state_province_id=alt.state_province_id
FROM state_province AS alt
WHERE child.country='Gibraltar'
AND alt.state_province='England'
;